// HexSlide Version beta 1.3 | Copyright (C) 2015 HexCode, Harry Felton.
var _G=_G?_G:!1;!function(a,b){_G||(_G={},_G.preserve={},_G.variable={}),_G.variable.last_slide_id=0,_G.preserve.slide_done=_G.preserve.slide_done?!0:!1;var e=[],f=[],g={},h={};a.fn.hexSlide=function(c){function B(b){var c;c=a("#hexslide-"+b+"-container");var d=g[b];d.autoPlay&&(e[b]&&clearInterval(e[b]),e[b]=setInterval(function(){E.call(c.find(".hexslide-slide-container"),!0)},d.interval))}function C(a){clearTimeout(e[a])}function D(b,d,e,f){if(c=d?d:c,i=e?e:i,f=f?!0:!1,c.navigation&&i.children(".hexslide-control-container").length<=0){var g,h,j,k,l;l=a("<div></div>",{"class":"hexslide-control-container"}),g=a("<div></div>",{"class":"slide-btn right","data-slide-direction":"forward"}),h=a("<div></div>",{"class":"slide-btn left","data-slide-direction":"backward"}),j=a("<span></span>",{text:c.text.next}),k=a("<span></span>",{text:c.text.previous}),c.additionalCSS.nextBtn&&g.css(c.additionalCSS.nextBtn),c.additionalCSS.nextTxt&&j.css(c.additionalCSS.nextTxt),c.additionalCSS.prevBtn&&h.css(c.additionalCSS.prevBtn),c.additionalCSS.prevTxt&&k.css(c.additionalCSS.prevTxt),c.alwaysShowNav||(g.addClass("hide"),h.addClass("hide")),j.appendTo(g),k.appendTo(h),g.appendTo(l),h.appendTo(l),f?l.insertBefore(i.children(".hexslide-slide-container")):l.appendTo(i)}if(c.indicators&&i.children(".indicator-container").length<=0){var m,o;m=a("<div></div>",{"class":"indicator-container"}),o=b;for(var p=0;p<o.length;p++){var q=a("<span></span>",{"class":"indicator","data-hexslide-id":p}).appendTo(m);0==p&&q.addClass("active")}c.alwaysShowNav||m.addClass("hide"),m.css({"max-width":c.width}),f?m.insertBefore(i.children(".hexslide-slide-container")):m.appendTo(i)}}function E(b){if(!h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!0,b||clearInterval(e[a(this).parents(".hexslide").attr("id").split("-")[1]]);var c=g[a(this).parents(".hexslide").attr("id").split("-")[1]],d=a(this).parents(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f++,f>a(this).parents(".hexslide").find(".slide").length-1&&(f=0),"slide"==c.animation?(d.stop().animate({left:d.outerWidth()/-1},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).stop().css("left",d.outerWidth()).show().animate({left:0},c.speed,function(){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!1}).insertBefore(d)):(d.stop().fadeOut(c.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed,function(){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!1}).insertBefore(d)),c.stopAutoOnNav&&!b?(c.autoPlay=!1,C(a(this).parents(".hexslide").attr("id").split("-")[1])):b||!c.autoPlay||c.pauseOnHover||(C(a(this).parents(".hexslide").attr("id").split("-")[1]),B(a(this).parents(".hexslide").attr("id").split("-")[1]));var i=a(this).parents(".hexslide").find(".slide:first").data("hexslide-id");F(i,this)}}function F(b,c){a(c).parents(".hexslide").children(".indicator-container").find(".indicator.active").removeClass("active"),a(c).parents(".hexslide").children(".indicator-container").find(".indicator").filter(function(){return a(this).data("hexslide-id")==b}).addClass("active")}function G(){if(!h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!0;var b,c,d;d=a(this).data("hexslide-id");var e=g[a(this).parents(".hexslide").attr("id").split("-")[1]];if(b=a(this).parents(".hexslide").find(".slide:first"),c=b.data("hexslide-id"),c!=d){if("slide"==e.animation){var f=d>c?b.outerWidth()/-1:b.outerWidth(),i=d>c?b.outerWidth():b.outerWidth()/-1;b.stop().animate({left:f},e.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==d}).stop().css("left",i).show().animate({left:0},e.speed,function(){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!1}).insertBefore(b)}else b.stop().fadeOut(e.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==d}).stop().fadeIn(e.speed,function(){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!1}).insertBefore(b);F(d,b.parent(".hexslide-slide-container")),e.autoPlay&&!e.pauseOnHover&&(C(a(this).parents(".hexslide").attr("id").split("-")[1]),B(a(this).parents(".hexslide").attr("id").split("-")[1]))}}}function H(b){if(!h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!0,b||clearInterval(e[a(this).parents(".hexslide").attr("id").split("-")[1]]);var c=g[a(this).parents(".hexslide").attr("id").split("-")[1]],d=a(this).parents(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f--,0>f&&(f=a(this).parents(".hexslide").find(".slide").length,f-=1),"slide"==c.animation?(d.stop().animate({left:d.outerWidth()},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).stop().css({left:d.outerWidth()/-1}).show().animate({left:0},c.speed,function(){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!1}).insertBefore(d)):(d.stop().fadeOut(c.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed,function(){h[a(this).parents(".hexslide").attr("id").split("-")[1]].moving=!1}).insertBefore(d)),c.stopAutoOnNav?(a(this).parents(".hexslide").removeClass("hexslide-hover"),C(a(this).parents(".hexslide").attr("id").split("-")[1])):c.autoPlay&&!c.pauseOnHover&&(C(a(this).parents(".hexslide").attr("id").split("-")[1]),B(a(this).parents(".hexslide").attr("id").split("-")[1]));var i=a(this).parents(".hexslide").find(".slide:first").data("hexslide-id");F(i,this)}}var d,i,j,k,m,n,o,p,l=this.filter(function(){return a(this).data("slideshow-src")||a(this).hasClass("hexslide")});m=_G.variable.last_slide_id?_G.variable.last_slide_id:0;for(var q=0;q<l.length;q++)if(a(l[q]).hasClass("hexslide")){var s,r=a(l[q]).attr("id").split("-")[1];if(s=g[r]){var t;t=a.extend(!0,{},a.fn.hexSlide.defaults,s,c),C(r);var u;t.speed>t.interval&&(console.warn("hexSlide Warning: The interval you set is faster than your speed. To prevent problems your interval has been set to your speed ( "+t.speed+" )"),t.interval=t.speed),u=a("#hexslide-"+r+"-container"),u.children(".hexslide-control-container").length>=1&&0==t.navigation&&u.children(".hexslide-control-container").remove(),u.children(".indicator-container").length>=1&&0==t.indicators&&u.children(".indicator-container").remove(),(u.children(".hexslide-control-container").length<=0&&1==t.navigation||u.children(".indicator-container").length<=0&&1==t.indicators)&&D(u.children(".hexslide-slide-container").children(".slide"),t,u,!0),t.alwaysShowNav?u.children(".indicator-container").removeClass("hide").end().children(".hexslide-control-container").children(".slide-btn").removeClass("hide"):u.children(".indicator-container").addClass("hide").end().children(".hexslide-control-container").children(".slide-btn").addClass("hide"),!t.alwaysShowNav||t.pauseOnHover?u.hasClass("hexslide-hover")||u.addClass("hexslide-hover"):u.removeClass("hexslide-hover"),u.width(t.width?t.width:n),u.height(t.height?t.height:p),u.css({"max-height":t.maxheight?t.maxheight:"","max-width":t.maxwidth?t.maxwidth:"","min-height":t.minheight?t.minheight:"","min-width":t.minwidth?t.minwidth:""}),u.children(".hexslide-slide-container").children(".slide").hide().css("left",0),u.children(".hexslide-slide-container").children(".slide:first").show(),g[r]=t,t.autoPlay&&(e[r]=setInterval(function(){E.call(u.find(".hexslide-slide-container"),!0)},t.interval)),"function"==typeof t.callback.start&&t.callback.start()}}else{var c=a.extend(!0,{},a.fn.hexSlide.defaults,c);c.speed>c.interval&&(console.warn("hexSlide Warning: The interval you set is faster than your speed. To prevent problems your interval has been set to your speed ( "+c.speed+" )"),c.interval=c.speed),j=l[q],k=a(j);var v=q+m;n=k.outerWidth(),p=k.outerHeight(),i=a("<div></div>",{id:"hexslide-"+v+"-container","class":"hexslide"}),i.width(c.width?c.width:n),i.height(c.height?c.height:p),i.css({"max-height":c.maxheight?c.maxheight:"","max-width":c.maxwidth?c.maxwidth:"","min-height":c.minheight?c.minheight:"","min-width":c.minwidth?c.minwidth:""}),c.additionalClass.container&&i.addClass(c.additionalClass.container),c.additionalCSS.container&&i.css(c.additionalCSS.container),(c.pauseOnHover||!c.alwaysShowNav)&&i.addClass("hexslide-hover"),o=a("<div></div>",{"class":"hexslide-slide-container"}),f[v]=k.data("slideshow-src").split("|");var w=[];w[0]=k.attr("src");var x=[];x=k.data("slideshow-src").split("|");for(var y=0;y<x.length;y++)w.push(x[y]);D(w),d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+k.attr("src")+")"},"data-hexslide-id":0}).appendTo(o),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide);for(var z=1,A=0;A<f[v].length;A++)d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+f[v][A]+")"},"data-hexslide-id":z}).appendTo(o),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide),z++;o.appendTo(i),k.replaceWith(i),a("#hexslide-"+v+"-container").children(".hexslide-slide-container").children(".slide:gt(0)").hide(),m++,_G.variable.last_slide_id=m,"function"==typeof c.callback.start&&c.callback.start(),g[v]=c,h[v]={},h[v].moving=!1,B(v)}a(b).on("aj_start",function(){for(var a=0;a<e.length;a++)clearTimeout(e[a])}),_G.preserve.slide_done||(_G.preserve.slide_done=!0,a("body").on("mouseenter",".hexslide.hexslide-hover",function(){var b=g[a(this).attr("id").split("-")[1]];b.pauseOnHover&&C(a(this).attr("id").split("-")[1]),b.alwaysShowNav||(a(this).find(".slide-btn").removeClass("hide"),b.indicators&&a(this).find(".indicator-container").removeClass("hide"))}).on("mouseleave",".hexslide.hexslide-hover",function(){var b=g[a(this).attr("id").split("-")[1]];b.pauseOnHover&&B(a(this).attr("id").split("-")[1]),b.alwaysShowNav||(a(this).find(".slide-btn").addClass("hide"),b.indicators&&a(this).find(".indicator-container").addClass("hide"))}),a("body").on("click",".slide-btn",function(){var c;c=a(this).data("slide-direction"),"forward"==c?E.call(this):"backward"==c&&H.call(this)}),a("body").on("click",".indicator",function(){G.call(this)}))},a.fn.hexSlide.defaults={interval:3e3,speed:500,width:!1,height:!1,maxheight:!1,maxwidth:!1,minheight:!1,minwidth:!1,pauseOnHover:!0,autoPlay:!0,navigation:!0,alwaysShowNav:!1,stopAutoOnNav:!1,indicators:!0,animation:"fade",additionalClass:{slide:!1,container:!1},additionalCSS:{slide:!1,container:!1,nextBtn:!1,nextTxt:!1,prevBtn:!1,prevTxt:!1},callback:{start:function(){}},text:{previous:"Back",next:"Next"}}}(jQuery,window,document);