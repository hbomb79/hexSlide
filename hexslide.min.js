// HexSlide Version beta 1.3 | Copyright (C) 2015 HexCode, Harry Felton.
var _G=_G?_G:!1;!function(a,b){_G||(_G={},_G.preserve={},_G.variable={}),_G.variable.last_slide_id=0,_G.preserve.slide_done=_G.preserve.slide_done?!0:!1;var e=[],f=[];a.fn.hexSlide=function(c){function s(b,d){var f;f=a("#hexslide-"+b+"-container"),d||f.children(".slide:gt(0)").hide(),c.autoPlay&&(e[b]&&clearInterval(e[b]),e[b]=setInterval(function(){v.call(f.find(".slide"),!0)},c.interval))}function t(a){clearTimeout(e[a])}function u(b){if(c.navigation){var d,e,f,h;d=a("<div></div>",{"class":"slide-btn right","data-slide-direction":"forward"}),e=a("<div></div>",{"class":"slide-btn left","data-slide-direction":"backward"}),f=a("<span></span>",{text:"NEXT"}),h=a("<span></span>",{text:"BACK"}),c.additionalCSS.nextBtn&&d.addClass(c.additionalCSS.nextBtn),c.additionalCSS.nextTxt&&d.addClass(c.additionalCSS.nextTxt),c.additionalCSS.prevBtn&&d.addClass(c.additionalCSS.prevBtn),c.additionalCSS.prevTxt&&d.addClass(c.additionalCSS.prevTxt),c.alwaysShowNav||(d.addClass("hide"),e.addClass("hide")),f.appendTo(d),h.appendTo(e),d.appendTo(g),e.appendTo(g)}if(c.indicators){var i,k;i=a("<div></div>",{"class":"indicator-container"}),k=b;for(var l=0;l<k.length;l++){var m=a("<span></span>",{"class":"indicator","data-hexslide-id":l}).appendTo(i);0==l&&m.addClass("active")}c.alwaysShowNav||i.addClass("hide"),i.appendTo(g)}}function v(b){b||clearInterval(e[a(this).parent(".hexslide").attr("id").split("-")[1]]);var d=a(this).parent(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f++,f>a(this).parent(".hexslide").find(".slide").length-1&&(f=0),d.stop().fadeOut(c.speed),a(this).parent(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed).insertBefore(d),c.stopAutoOnNav?(a(this).parent(".hexslide").removeClass("hexslide-hover"),t(a(this).parent(".hexslide").attr("id").split("-")[1])):b||!c.autoPlay||c.pauseOnHover||(t(a(this).parent(".hexslide").attr("id").split("-")[1]),s(a(this).parent(".hexslide").attr("id").split("-")[1],!0));var g=a(this).parent(".hexslide").find(".slide:first").data("hexslide-id");w(g,this)}function w(b,c){a(c).siblings(".indicator-container").find(".indicator.active").removeClass("active"),a(c).siblings(".indicator-container").find(".indicator").filter(function(){return a(this).data("hexslide-id")==b}).addClass("active")}function x(){var b,d,e;e=a(this).data("hexslide-id"),b=a(this).parents(".hexslide").find(".slide:first"),d=b.data("hexslide-id"),b.stop().fadeOut(c.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==e}).stop().fadeIn(c.speed).insertBefore(b),w(e,b),c.autoPlay&&!c.pauseOnHover&&(t(a(this).parents(".hexslide").attr("id").split("-")[1]),s(a(this).parents(".hexslide").attr("id").split("-")[1],!0))}function y(b){b||clearInterval(e[a(this).parent(".hexslide").attr("id").split("-")[1]]);var d=a(this).parent(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f--,0>f&&(f=a(this).parent(".hexslide").find(".slide").length,f-=1),d.stop().fadeOut(c.speed),a(this).parent(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed).insertBefore(d),c.stopAutoOnNav?(a(this).parent(".hexslide").removeClass("hexslide-hover"),t(a(this).parent(".hexslide").attr("id").split("-")[1])):c.autoPlay&&!c.pauseOnHover&&(t(a(this).parent(".hexslide").attr("id").split("-")[1]),s(a(this).parent(".hexslide").attr("id").split("-")[1],!0));var g=a(this).parent(".hexslide").find(".slide:first").data("hexslide-id");w(g,this)}c=a.extend(!0,{},a.fn.hexSlide.defaults,c);var d,g,h,i,k,l,m,j=this.filter(function(){return a(this).data("slideshow-src")});k=_G.variable.last_slide_id?_G.variable.last_slide_id:0;for(var n=0;n<j.length;n++){h=j[n],i=a(h);var o=n+k;l=i.outerWidth(),m=i.outerHeight(),g=a("<div></div>",{id:"hexslide-"+o+"-container","class":"hexslide"}),c.additionalClass.container&&g.addClass(c.additionalClass.container),c.additionalCSS.container&&g.css(c.additionalCSS.container),g.addClass("hexslide-hover"),f[o]=i.data("slideshow-src").split("|");var p=[];p[0]=i.attr("src");var q=[];q=i.data("slideshow-src").split("|");for(var n=0;n<q.length;n++)p.push(q[n]);u(p),d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+i.attr("src")+")"},"data-hexslide-id":0}).appendTo(g),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide);for(var n=1,r=0;r<f[o].length;r++)d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+f[o][r]+")"},"data-hexslide-id":n}).appendTo(g),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide),n++;i.replaceWith(g),k++,_G.variable.last_slide_id=k,s(o)}a(b).on("aj_start",function(){for(var a=0;a<e.length;a++)clearTimeout(e[a])}),_G.preserve.slide_done||(_G.preserve.slide_done=!0,a("body").on("mouseenter",".hexslide.hexslide-hover",function(){c.pauseOnHover&&t(a(this).attr("id").split("-")[1]),c.alwaysShowNav||(a(this).find(".slide-btn").removeClass("hide"),c.indicators&&a(this).find(".indicator-container").removeClass("hide"))}).on("mouseleave",".hexslide.hexslide-hover",function(){c.pauseOnHover&&s(a(this).attr("id").split("-")[1]),c.alwaysShowNav||(a(this).find(".slide-btn").addClass("hide"),c.indicators&&a(this).find(".indicator-container").addClass("hide"))}),a("body").on("click",".slide-btn",function(){var c;c=a(this).data("slide-direction"),"forward"==c?v.call(this):"backward"==c&&y.call(this)}),c.indicators&&a("body").on("click",".indicator",function(){x.call(this)})),"function"==typeof c.callback.start&&c.callback.start()},a.fn.hexSlide.defaults={interval:3e3,speed:500,pauseOnHover:!0,autoPlay:!0,navigation:!0,alwaysShowNav:!1,stopAutoOnNav:!1,indicators:!0,additionalClass:{slide:!1,container:!1},additionalCSS:{slide:!1,container:!1},callback:{start:function(){}}}}(jQuery,window,document);