// HexSlide Version beta 1.3 | Copyright (C) 2015 HexCode, Harry Felton.
var _G=_G?_G:!1;!function(a,b){_G||(_G={},_G.preserve={},_G.variable={}),_G.variable.last_slide_id=0,_G.preserve.slide_done=_G.preserve.slide_done?!0:!1;var e=[],f=[],g={};a.fn.hexSlide=function(c){function w(b){var d;d=a("#hexslide-"+b+"-container"),c.autoPlay&&(e[b]&&clearInterval(e[b]),e[b]=setInterval(function(){z.call(d.find(".hexslide-slide-container"),!0)},c.interval))}function x(a){clearTimeout(e[a])}function y(b){if(c.navigation){var d,e,f,g,i;i=a("<div></div>",{"class":"hexslide-control-container"}),d=a("<div></div>",{"class":"slide-btn right","data-slide-direction":"forward"}),e=a("<div></div>",{"class":"slide-btn left","data-slide-direction":"backward"}),f=a("<span></span>",{text:"NEXT"}),g=a("<span></span>",{text:"BACK"}),c.additionalCSS.nextBtn&&d.addClass(c.additionalCSS.nextBtn),c.additionalCSS.nextTxt&&d.addClass(c.additionalCSS.nextTxt),c.additionalCSS.prevBtn&&d.addClass(c.additionalCSS.prevBtn),c.additionalCSS.prevTxt&&d.addClass(c.additionalCSS.prevTxt),c.alwaysShowNav||(d.addClass("hide"),e.addClass("hide")),f.appendTo(d),g.appendTo(e),d.appendTo(i),e.appendTo(i),i.appendTo(h)}if(c.indicators){var j,l;j=a("<div></div>",{"class":"indicator-container"}),l=b;for(var m=0;m<l.length;m++){var n=a("<span></span>",{"class":"indicator","data-hexslide-id":m}).appendTo(j);0==m&&n.addClass("active")}c.alwaysShowNav||j.addClass("hide"),j.appendTo(h)}}function z(b){b||clearInterval(e[a(this).parents(".hexslide").attr("id").split("-")[1]]);var c=g[a(this).parents(".hexslide").attr("id").split("-")[1]],d=a(this).parents(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f++,f>a(this).parents(".hexslide").find(".slide").length-1&&(f=0),"slide"==c.animation?(d.stop().animate({left:d.outerWidth()/-1},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).stop().css("left",d.outerWidth()).show().animate({left:0},c.speed).insertBefore(d)):(d.stop().fadeOut(c.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed).insertBefore(d)),c.stopAutoOnNav?(a(this).parents(".hexslide").removeClass("hexslide-hover"),x(a(this).parents(".hexslide").attr("id").split("-")[1])):b||!c.autoPlay||c.pauseOnHover||(x(a(this).parents(".hexslide").attr("id").split("-")[1]),w(a(this).parents(".hexslide").attr("id").split("-")[1]));var h=a(this).parents(".hexslide").find(".slide:first").data("hexslide-id");A(h,this)}function A(b,c){a(c).parents(".hexslide").children(".indicator-container").find(".indicator.active").removeClass("active"),a(c).parents(".hexslide").children(".indicator-container").find(".indicator").filter(function(){return a(this).data("hexslide-id")==b}).addClass("active")}function B(){var b,c,d;d=a(this).data("hexslide-id");var e=g[a(this).parents(".hexslide").attr("id").split("-")[1]];if(b=a(this).parents(".hexslide").find(".slide:first"),c=b.data("hexslide-id"),"slide"==e.animation){var f=d>c?b.outerWidth()/-1:b.outerWidth(),h=d>c?b.outerWidth():b.outerWidth()/-1;b.stop().animate({left:f},e.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==d}).stop().css("left",h).show().animate({left:0},e.speed).insertBefore(b)}else b.stop().fadeOut(e.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==d}).stop().fadeIn(e.speed).insertBefore(b);A(d,b.parent(".hexslide-slide-container")),e.autoPlay&&!e.pauseOnHover&&(x(a(this).parents(".hexslide").attr("id").split("-")[1]),w(a(this).parents(".hexslide").attr("id").split("-")[1]))}function C(b){b||clearInterval(e[a(this).parents(".hexslide").attr("id").split("-")[1]]);var c=g[a(this).parents(".hexslide").attr("id").split("-")[1]],d=a(this).parents(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f--,0>f&&(f=a(this).parents(".hexslide").find(".slide").length,f-=1),"slide"==c.animation?(d.stop().animate({left:d.outerWidth()},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).stop().css({left:d.outerWidth()/-1}).show().animate({left:0},c.speed).insertBefore(d)):(d.stop().fadeOut(c.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed).insertBefore(d)),c.stopAutoOnNav?(a(this).parents(".hexslide").removeClass("hexslide-hover"),x(a(this).parents(".hexslide").attr("id").split("-")[1])):c.autoPlay&&!c.pauseOnHover&&(x(a(this).parents(".hexslide").attr("id").split("-")[1]),w(a(this).parents(".hexslide").attr("id").split("-")[1]));var h=a(this).parents(".hexslide").find(".slide:first").data("hexslide-id");A(h,this)}var d,h,i,j,l,m,n,o,k=this.filter(function(){return a(this).data("slideshow-src")});l=_G.variable.last_slide_id?_G.variable.last_slide_id:0;for(var p=0;p<k.length;p++){var c=a.extend(!0,{},a.fn.hexSlide.defaults,c);i=k[p],j=a(i);var q=p+l;g[q]=c,m=j.outerWidth(),o=j.outerHeight(),h=a("<div></div>",{id:"hexslide-"+q+"-container","class":"hexslide"}),h.width(c.width?c.width:m),h.height(c.height?c.height:o),h.css({"max-height":c.maxheight?c.maxheight:"","max-width":c.maxwidth?c.maxwidth:"","min-height":c.minheight?c.minheight:"","min-width":c.minwidth?c.minwidth:""}),c.additionalClass.container&&h.addClass(c.additionalClass.container),c.additionalCSS.container&&h.css(c.additionalCSS.container),h.addClass("hexslide-hover"),n=a("<div></div>",{"class":"hexslide-slide-container"}),f[q]=j.data("slideshow-src").split("|");var r=[];r[0]=j.attr("src");var s=[];s=j.data("slideshow-src").split("|");for(var t=0;t<s.length;t++)r.push(s[t]);y(r),d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+j.attr("src")+")"},"data-hexslide-id":0}).appendTo(n),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide);for(var u=1,v=0;v<f[q].length;v++)d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+f[q][v]+")"},"data-hexslide-id":u}).appendTo(n),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide),u++;n.appendTo(h),j.replaceWith(h),a("#hexslide-"+q+"-container").children(".hexslide-slide-container").children(".slide:gt(0)").hide(),l++,_G.variable.last_slide_id=l,"function"==typeof c.callback.start&&c.callback.start(),w(q)}a(b).on("aj_start",function(){for(var a=0;a<e.length;a++)clearTimeout(e[a])}),_G.preserve.slide_done||(_G.preserve.slide_done=!0,a("body").on("mouseenter",".hexslide.hexslide-hover",function(){var b=g[a(this).attr("id").split("-")[1]];b.pauseOnHover&&x(a(this).attr("id").split("-")[1]),b.alwaysShowNav||(a(this).find(".slide-btn").removeClass("hide"),b.indicators&&a(this).find(".indicator-container").removeClass("hide"))}).on("mouseleave",".hexslide.hexslide-hover",function(){var b=g[a(this).attr("id").split("-")[1]];b.pauseOnHover&&w(a(this).attr("id").split("-")[1]),b.alwaysShowNav||(a(this).find(".slide-btn").addClass("hide"),b.indicators&&a(this).find(".indicator-container").addClass("hide"))}),a("body").on("click",".slide-btn",function(){var c;c=a(this).data("slide-direction"),"forward"==c?z.call(this):"backward"==c&&C.call(this)}),a("body").on("click",".indicator",function(){B.call(this)})),console.log(g)},a.fn.hexSlide.defaults={interval:3e3,speed:500,width:!1,height:!1,maxheight:!1,maxwidth:!1,minheight:!1,minwidth:!1,pauseOnHover:!0,autoPlay:!0,navigation:!0,alwaysShowNav:!1,stopAutoOnNav:!1,indicators:!0,animation:"fade",additionalClass:{slide:!1,container:!1},additionalCSS:{slide:!1,container:!1},callback:{start:function(){}}}}(jQuery,window,document);