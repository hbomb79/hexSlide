// HexSlide Version beta 1.3 | Copyright (C) 2015 HexCode, Harry Felton.
var _G=_G?_G:!1;!function(a,b){_G||(_G={},_G.preserve={},_G.variable={}),_G.variable.last_slide_id=0,_G.preserve.slide_done=_G.preserve.slide_done?!0:!1;var e=[],f=[],g={};a.fn.hexSlide=function(c){function B(b){var c;c=a("#hexslide-"+b+"-container");var d=g[b];d.autoPlay&&(e[b]&&clearInterval(e[b]),e[b]=setInterval(function(){E.call(c.find(".hexslide-slide-container"),!0)},d.interval))}function C(a){clearTimeout(e[a])}function D(b,d,e,f){if(c=d?d:c,h=e?e:h,f=f?!0:!1,c.navigation&&h.children(".hexslide-control-container").length<=0){var g,i,j,k,l;l=a("<div></div>",{"class":"hexslide-control-container"}),g=a("<div></div>",{"class":"slide-btn right","data-slide-direction":"forward"}),i=a("<div></div>",{"class":"slide-btn left","data-slide-direction":"backward"}),j=a("<span></span>",{text:c.text.next}),k=a("<span></span>",{text:c.text.previous}),c.additionalCSS.nextBtn&&g.css(c.additionalCSS.nextBtn),c.additionalCSS.nextTxt&&j.css(c.additionalCSS.nextTxt),c.additionalCSS.prevBtn&&i.css(c.additionalCSS.prevBtn),c.additionalCSS.prevTxt&&k.css(c.additionalCSS.prevTxt),c.alwaysShowNav||(g.addClass("hide"),i.addClass("hide")),j.appendTo(g),k.appendTo(i),g.appendTo(l),i.appendTo(l),f?l.insertBefore(h.children(".hexslide-slide-container")):l.appendTo(h)}if(c.indicators&&h.children(".indicator-container").length<=0){var m,o;m=a("<div></div>",{"class":"indicator-container"}),o=b;for(var p=0;p<o.length;p++){var q=a("<span></span>",{"class":"indicator","data-hexslide-id":p}).appendTo(m);0==p&&q.addClass("active")}c.alwaysShowNav||m.addClass("hide"),m.css({"max-width":c.width}),f?m.insertBefore(h.children(".hexslide-slide-container")):m.appendTo(h)}}function E(b){b||clearInterval(e[a(this).parents(".hexslide").attr("id").split("-")[1]]);var c=g[a(this).parents(".hexslide").attr("id").split("-")[1]],d=a(this).parents(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f++,f>a(this).parents(".hexslide").find(".slide").length-1&&(f=0),"slide"==c.animation?(d.stop().animate({left:d.outerWidth()/-1},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).stop().css("left",d.outerWidth()).show().animate({left:0},c.speed).insertBefore(d)):(d.stop().fadeOut(c.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed).insertBefore(d)),c.stopAutoOnNav&&!b?(c.autoPlay=!1,C(a(this).parents(".hexslide").attr("id").split("-")[1])):b||!c.autoPlay||c.pauseOnHover||(C(a(this).parents(".hexslide").attr("id").split("-")[1]),B(a(this).parents(".hexslide").attr("id").split("-")[1]));var h=a(this).parents(".hexslide").find(".slide:first").data("hexslide-id");F(h,this)}function F(b,c){a(c).parents(".hexslide").children(".indicator-container").find(".indicator.active").removeClass("active"),a(c).parents(".hexslide").children(".indicator-container").find(".indicator").filter(function(){return a(this).data("hexslide-id")==b}).addClass("active")}function G(){var b,c,d;d=a(this).data("hexslide-id");var e=g[a(this).parents(".hexslide").attr("id").split("-")[1]];if(b=a(this).parents(".hexslide").find(".slide:first"),c=b.data("hexslide-id"),c!=d){if("slide"==e.animation){var f=d>c?b.outerWidth()/-1:b.outerWidth(),h=d>c?b.outerWidth():b.outerWidth()/-1;b.stop().animate({left:f},e.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==d}).stop().css("left",h).show().animate({left:0},e.speed).insertBefore(b)}else b.stop().fadeOut(e.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==d}).stop().fadeIn(e.speed).insertBefore(b);F(d,b.parent(".hexslide-slide-container")),e.autoPlay&&!e.pauseOnHover&&(C(a(this).parents(".hexslide").attr("id").split("-")[1]),B(a(this).parents(".hexslide").attr("id").split("-")[1]))}}function H(b){b||clearInterval(e[a(this).parents(".hexslide").attr("id").split("-")[1]]);var c=g[a(this).parents(".hexslide").attr("id").split("-")[1]],d=a(this).parents(".hexslide").find(".slide:first"),f=d.data("hexslide-id");f--,0>f&&(f=a(this).parents(".hexslide").find(".slide").length,f-=1),"slide"==c.animation?(d.stop().animate({left:d.outerWidth()},c.speed,function(){a(this).hide()}),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).stop().css({left:d.outerWidth()/-1}).show().animate({left:0},c.speed).insertBefore(d)):(d.stop().fadeOut(c.speed),a(this).parents(".hexslide").find(".slide").filter(function(){return a(this).data("hexslide-id")==f}).fadeIn(c.speed).insertBefore(d)),c.stopAutoOnNav?(a(this).parents(".hexslide").removeClass("hexslide-hover"),C(a(this).parents(".hexslide").attr("id").split("-")[1])):c.autoPlay&&!c.pauseOnHover&&(C(a(this).parents(".hexslide").attr("id").split("-")[1]),B(a(this).parents(".hexslide").attr("id").split("-")[1]));var h=a(this).parents(".hexslide").find(".slide:first").data("hexslide-id");F(h,this)}var d,h,i,j,l,m,n,o,k=this.filter(function(){return a(this).data("slideshow-src")||a(this).hasClass("hexslide")});l=_G.variable.last_slide_id?_G.variable.last_slide_id:0;for(var p=0;p<k.length;p++)if(a(k[p]).hasClass("hexslide")){var r,q=a(k[p]).attr("id").split("-")[1];if(r=g[q]){var s;s=a.extend(!0,{},a.fn.hexSlide.defaults,r,c),g[q]=s,C(q);var t,u;u=g[q],t=a("#hexslide-"+q+"-container"),t.children(".hexslide-control-container").length>=1&&0==u.navigation&&t.children(".hexslide-control-container").remove(),t.children(".indicator-container").length>=1&&0==u.indicators&&t.children(".indicator-container").remove(),(t.children(".hexslide-control-container").length<=0&&1==u.navigation||t.children(".indicator-container").length<=0&&1==u.indicators)&&D(t.children(".hexslide-slide-container").children(".slide"),u,t,!0),u.alwaysShowNav?t.children(".indicator-container").removeClass("hide").end().children(".hexslide-control-container").children(".slide-btn").removeClass("hide"):t.children(".indicator-container").addClass("hide").end().children(".hexslide-control-container").children(".slide-btn").addClass("hide"),!u.alwaysShowNav||u.pauseOnHover?t.hasClass("hexslide-hover")||t.addClass("hexslide-hover"):t.removeClass("hexslide-hover"),t.width(u.width?u.width:m),t.height(u.height?u.height:o),t.css({"max-height":u.maxheight?u.maxheight:"","max-width":u.maxwidth?u.maxwidth:"","min-height":u.minheight?u.minheight:"","min-width":u.minwidth?u.minwidth:""}),u.autoPlay&&(e[q]=setInterval(function(){E.call(t.find(".hexslide-slide-container"),!0)},u.interval)),"function"==typeof u.callback.start&&u.callback.start()}}else{var c=a.extend(!0,{},a.fn.hexSlide.defaults,c);i=k[p],j=a(i);var v=p+l;g[v]=c,m=j.outerWidth(),o=j.outerHeight(),h=a("<div></div>",{id:"hexslide-"+v+"-container","class":"hexslide"}),h.width(c.width?c.width:m),h.height(c.height?c.height:o),h.css({"max-height":c.maxheight?c.maxheight:"","max-width":c.maxwidth?c.maxwidth:"","min-height":c.minheight?c.minheight:"","min-width":c.minwidth?c.minwidth:""}),c.additionalClass.container&&h.addClass(c.additionalClass.container),c.additionalCSS.container&&h.css(c.additionalCSS.container),(c.pauseOnHover||!c.alwaysShowNav)&&h.addClass("hexslide-hover"),n=a("<div></div>",{"class":"hexslide-slide-container"}),f[v]=j.data("slideshow-src").split("|");var w=[];w[0]=j.attr("src");var x=[];x=j.data("slideshow-src").split("|");for(var y=0;y<x.length;y++)w.push(x[y]);D(w),d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+j.attr("src")+")"},"data-hexslide-id":0}).appendTo(n),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide);for(var z=1,A=0;A<f[v].length;A++)d=a("<div></div>",{"class":"slide",css:{"background-image":"url("+f[v][A]+")"},"data-hexslide-id":z}).appendTo(n),c.additionalClass.slide&&d.addClass(c.additionalClass.slide),c.additionalCSS.slide&&d.css(c.additionalCSS.slide),z++;n.appendTo(h),j.replaceWith(h),a("#hexslide-"+v+"-container").children(".hexslide-slide-container").children(".slide:gt(0)").hide(),l++,_G.variable.last_slide_id=l,"function"==typeof c.callback.start&&c.callback.start(),B(v)}a(b).on("aj_start",function(){for(var a=0;a<e.length;a++)clearTimeout(e[a])}),_G.preserve.slide_done||(_G.preserve.slide_done=!0,a("body").on("mouseenter",".hexslide.hexslide-hover",function(){var b=g[a(this).attr("id").split("-")[1]];b.pauseOnHover&&C(a(this).attr("id").split("-")[1]),b.alwaysShowNav||(a(this).find(".slide-btn").removeClass("hide"),b.indicators&&a(this).find(".indicator-container").removeClass("hide"))}).on("mouseleave",".hexslide.hexslide-hover",function(){var b=g[a(this).attr("id").split("-")[1]];b.pauseOnHover&&B(a(this).attr("id").split("-")[1]),b.alwaysShowNav||(a(this).find(".slide-btn").addClass("hide"),b.indicators&&a(this).find(".indicator-container").addClass("hide"))}),a("body").on("click",".slide-btn",function(){var c;c=a(this).data("slide-direction"),"forward"==c?E.call(this):"backward"==c&&H.call(this)}),a("body").on("click",".indicator",function(){G.call(this)}))},a.fn.hexSlide.defaults={interval:3e3,speed:500,width:!1,height:!1,maxheight:!1,maxwidth:!1,minheight:!1,minwidth:!1,pauseOnHover:!0,autoPlay:!0,navigation:!0,alwaysShowNav:!1,stopAutoOnNav:!1,indicators:!0,animation:"fade",additionalClass:{slide:!1,container:!1},additionalCSS:{slide:!1,container:!1,nextBtn:!1,nextTxt:!1,prevBtn:!1,prevTxt:!1},callback:{start:function(){}},text:{previous:"Back",next:"Next"}}}(jQuery,window,document);